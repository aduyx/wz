<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>船期查询 - AI智货代</title>
  
  <!-- SEO 元数据 -->
  <meta name="description" content="AI智货代 - 专业的船期查询平台，实时查询全球主要航线的船期信息。">
  <meta name="keywords" content="船期查询,航线查询,船期表,海运船期,AI智货代,国际物流">
  <meta name="author" content="AI智货代">
  <meta name="robots" content="index, follow">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <!-- 全局样式 -->
  <link rel="stylesheet" href="/assets/css/global.css">
  
  <!-- 自定义配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#0E2E88',
            accent: '#FF7D00',
            neutral: '#F5F7FA',
            dark: '#1D2129',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .transition-custom {
        transition: all 0.3s ease;
      }
      .card-hover {
        @apply hover:shadow-lg hover:-translate-y-1 transition-custom;
      }
      .custom-gradient {
        background: linear-gradient(to right, 
          #3b82f6 0%, 
          #3b82f6 61.8%, 
          #14b8a6 80.9%, 
          #06b6d4 100%);
      }
      .text-gradient {
        background: linear-gradient(45deg, #fbbf24, #f59e0b, #d97706, #92400e);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .h2-gradient {
        background: linear-gradient(135deg, #165DFF 0%, #0E2E88 30%, #FF7D00 70%, #f59e0b 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        background-size: 200% 200%;
        animation: gradientShift 3s ease-in-out infinite;
      }
      @keyframes gradientShift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }
      
      /* 统一按钮样式 */
      .btn-primary {
        @apply bg-primary text-white font-medium py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md hover:shadow-lg;
      }
      
      .btn-secondary {
        @apply bg-gray-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-700 transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md hover:shadow-lg;
      }
      
      .btn-accent {
        @apply bg-yellow-500 text-black font-medium py-2 px-4 rounded-lg hover:bg-yellow-400 transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md hover:shadow-lg;
      }
      
      /* 强制首页使用浅色背景 */
      body {
        background-color: #f9fafb !important;
      }
      
      /* 响应式设计优化 */
      @media (max-width: 767px) {
        .hero {
          @apply py-6 px-3;
        }
        .hero__title {
          @apply text-2xl leading-tight;
        }
        .hero__subtitle {
          @apply text-base;
        }
        .container {
          @apply px-3;
        }
        .tracking-section__form {
          @apply flex-col space-y-3;
        }
        .form__select {
          @apply w-full;
        }
      }
      
      @media (max-width: 480px) {
        .hero {
          @apply py-4 px-2;
        }
        .hero__title {
          @apply text-xl;
        }
        .container {
          @apply px-2;
        }
      }
    }
  </style>
  <!-- 全局JavaScript -->
  <script src="/assets/js/global.js?v=20251114"></script>
</head>
<body class="bg-gray-50 font-sans text-dark">
  <!-- 页眉容器 -->
  <div id="header-container"></div>

  <main id="main">
    <!-- 全宽横幅 -->
    <section class="hero custom-gradient text-white py-8">
      <div class="container mx-auto px-4 text-left">
        <h1 class="hero__title text-[clamp(2rem,5vw,3.5rem)] font-bold mb-4 text-shadow">
          船期查询
        </h1>
        <p class="hero__subtitle text-[clamp(1rem,2vw,1.25rem)] max-w-3xl opacity-90">
          实时查询全球主要航线的船期信息，帮助您更好地规划货物运输时间。
        </p>
      </div>
    </section>

    <!-- 主内容容器 -->
    <section class="container mx-auto px-4 py-8">
      <div class="flex flex-col md:flex-row gap-6 md:gap-8">
        <!-- 左侧容器 - 占3/4宽度 -->
        <div class="w-full md:w-3/4 space-y-6">
          <!-- 船期查询 -->
          <div class="tracking-section bg-white rounded-lg shadow-sm p-6 border border-purple-500">
            <h2 class="tracking-section__title text-2xl font-bold mb-4 h2-gradient">船期查询</h2>
            <div class="tracking-section__form grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">起运港</label>
                <input type="text" placeholder="请输入起运港" class="form__input w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-sm">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">目的港</label>
                <input type="text" placeholder="请输入目的港" class="form__input w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-sm">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">船公司</label>
                <select class="form__select w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-sm">
                  <option value="all">所有船东</option>
                  <option value="msc">地中海航运(MSC)</option>
                  <option value="maersk">马士基(Maersk)</option>
                  <option value="cma">达飞轮船(CMA CGM)</option>
                  <option value="cosco">中远海运(COSCO Shipping)</option>
                  <option value="hapag">赫伯罗特(Hapag-Lloyd)</option>
                  <option value="one">海洋网联(ONE)</option>
                  <option value="evergreen">长荣海运(Evergreen)</option>
                  <option value="hmm">现代商船(HMM)</option>
                  <option value="zim">以星航运(ZIM)</option>
                  <option value="yangming">阳明海运(Yang Ming)</option>
                  <option value="oocl">东方海外(OOCL)</option>
                  <option value="pil">太平船务(PIL)</option>
                  <option value="wanhai">万海航运(Wan Hai)</option>
                  <option value="kmtc">高丽海运(KMTC)</option>
                  <option value="sitc">海丰国际(SITC)</option>
                  <option value="tslines">德翔海运(TS Lines)</option>
                  <option value="rcl">宏海船务(RCL)</option>
                  <option value="smline">长锦商船(SM Line)</option>
                  <option value="ckline">天敬海运(CK Line)</option>
                  <option value="namsung">南星船务(NAMSUNG)</option>
                </select>
              </div>
              <div class="flex items-end">
                <button class="btn-primary w-full px-4 py-2 flex items-center justify-center whitespace-nowrap text-sm">
                  <i class="fas fa-search mr-1"></i>
                  <span>查询</span>
                </button>
              </div>
            </div>
          <div class="tracking-section__help mt-4 text-center">
            <p class="text-gray-600">没有找到所需要的船东？<a href="#" class="text-primary hover:text-primary/80 font-medium transition-all duration-300 ease-in-out hover:underline">申请加入船东</a></p>
          </div>
          </div>

          <!-- 船东列表（与首页一致样式，跳转链接为本页 ?owner=code） -->
          <div class="shipowners-section bg-white rounded-lg shadow-sm p-6 border border-orange-500">
            <div class="shipowners-section__header mb-4">
              <h2 class="shipowners-section__title text-2xl font-bold h2-gradient">船东列表</h2>
            </div>
            <div class="shipowners-section__grid grid grid-cols-5 gap-4">
              <!-- 第一行 -->
              <div class="card card--shipowner text-center card-hover border border-red-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/1msc.webp" alt="地中海航运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.classList.remove('hidden-element');">
                  <div class="bg-red-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">MSC</div>
                </div>
                <p class="card__title text-xs font-medium">地中海航运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-blue-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/2msk.webp" alt="马士基" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.classList.remove('hidden-element');">
                  <div class="bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">Maersk</div>
                </div>
                <p class="card__title text-xs font-medium">马士基</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-green-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/3cma.webp" alt="达飞轮船" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.classList.remove('hidden-element');">
                  <div class="bg-green-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">CMA</div>
                </div>
                <p class="card__title text-xs font-medium">达飞轮船</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-yellow-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/4cosco.webp" alt="中远海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.classList.remove('hidden-element');">
                  <div class="bg-yellow-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">COSCO</div>
                </div>
                <p class="card__title text-xs font-medium">中远海运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-purple-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/5hpl.webp" alt="赫伯罗特" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.classList.remove('hidden-element');">
                  <div class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">HPL</div>
                </div>
                <p class="card__title text-xs font-medium">赫伯罗特</p>
              </div>
              <!-- 第二行 -->
              <div class="card card--shipowner text-center card-hover border border-pink-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/6one.webp" alt="海洋网联" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-pink-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">ONE</div>
                </div>
                <p class="card__title text-xs font-medium">海洋网联</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-indigo-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/7emc.webp" alt="长荣海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-indigo-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">EMC</div>
                </div>
                <p class="card__title text-xs font-medium">长荣海运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-teal-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/8hmm.webp" alt="现代商船" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-teal-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">HMM</div>
                </div>
                <p class="card__title text-xs font-medium">现代商船</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-cyan-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/9zim.webp" alt="以星航运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-cyan-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">ZIM</div>
                </div>
                <p class="card__title text-xs font-medium">以星航运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-lime-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/10ym.webp" alt="阳明海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-lime-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">YM</div>
                </div>
                <p class="card__title text-xs font-medium">阳明海运</p>
              </div>
              <!-- 第三行 -->
              <div class="card card--shipowner text-center card-hover border border-emerald-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/11oocl.webp" alt="东方海外" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-emerald-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">OOCL</div>
                </div>
                <p class="card__title text-xs font-medium">东方海外</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-amber-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/12pil.webp" alt="太平船务" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-amber-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">PIL</div>
                </div>
                <p class="card__title text-xs font-medium">太平船务</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-rose-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/13wanhai.webp" alt="万海航运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-rose-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">万海</div>
                </div>
                <p class="card__title text-xs font-medium">万海航运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-violet-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/14kmtc.webp" alt="高丽海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-violet-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">高丽</div>
                </div>
                <p class="card__title text-xs font-medium">高丽海运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-sky-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/15sitc.webp" alt="海丰国际" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-sky-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">海丰</div>
                </div>
                <p class="card__title text-xs font-medium">海丰国际</p>
              </div>
              <!-- 第四行 -->
              <div class="card card--shipowner text-center card-hover border border-orange-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/16tsl.webp" alt="德翔海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">TSL</div>
                </div>
                <p class="card__title text-xs font-medium">德翔海运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-slate-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/17rcl.webp" alt="宏海船务" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-slate-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">RCL</div>
                </div>
                <p class="card__title text-xs font-medium">宏海船务</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-stone-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/18smline.webp" alt="长锦商船" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-stone-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">长锦</div>
                </div>
                <p class="card__title text-xs font-medium">长锦商船</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-neutral-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/19ckline.webp" alt="天敬海运" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-neutral-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">天敬</div>
                </div>
                <p class="card__title text-xs font-medium">天敬海运</p>
              </div>
              <div class="card card--shipowner text-center card-hover border border-zinc-300 rounded-lg p-2">
                <div class="card__image h-16 flex items-center justify-center mb-1">
                  <img src="/assets/images/20namsung.webp" alt="南星船务" class="h-12 w-auto object-contain" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                  <div class="bg-zinc-500 text-white px-2 py-1 rounded text-xs font-bold" style="display:none;">南星</div>
                </div>
                <p class="card__title text-xs font-medium">南星船务</p>
              </div>
            </div>
          </div>

          <!-- 查询结果展示 -->
          <div class="results-section bg-white rounded-lg shadow-sm p-6 border border-blue-500 hidden">
            <h2 class="results-section__title text-2xl font-bold mb-4 h2-gradient">查询结果</h2>
            <div class="results-content">
              <!-- 查询结果将在这里显示 -->
              <div class="result-placeholder text-center py-12">
                <i class="fas fa-search fa-3x text-gray-300 mb-4"></i>
                <p class="text-gray-500">请输入起运港和目的港进行查询</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 右侧边栏 - 占1/4宽度 -->
        <div class="w-full md:w-1/4 space-y-6">
          <!-- 热门航线 -->
          <div class="sidebar__card bg-white rounded-lg shadow-sm p-4 border border-green-500">
            <h3 class="sidebar__title text-lg font-bold mb-3 h2-gradient">热门航线</h3>
            <div class="space-y-2">
              <div class="text-sm text-gray-600 hover:text-primary cursor-pointer transition-colors duration-300">
                <p class="font-medium">上海 → 洛杉矶</p>
                <p class="text-xs">平均航程：12天</p>
              </div>
              <div class="text-sm text-gray-600 hover:text-primary cursor-pointer transition-colors duration-300">
                <p class="font-medium">深圳 → 长滩</p>
                <p class="text-xs">平均航程：14天</p>
              </div>
              <div class="text-sm text-gray-600 hover:text-primary cursor-pointer transition-colors duration-300">
                <p class="font-medium">宁波 → 萨凡纳</p>
                <p class="text-xs">平均航程：15天</p>
              </div>
              <div class="text-sm text-gray-600 hover:text-primary cursor-pointer transition-colors duration-300">
                <p class="font-medium">青岛 → 纽约</p>
                <p class="text-xs">平均航程：16天</p>
              </div>
              <div class="text-sm text-gray-600 hover:text-primary cursor-pointer transition-colors duration-300">
                <p class="font-medium">厦门 → 休斯顿</p>
                <p class="text-xs">平均航程：18天</p>
              </div>
            </div>
          </div>

          <!-- 使用说明 -->
          <div class="sidebar__card bg-white rounded-lg shadow-sm p-4 border border-orange-500">
            <h3 class="sidebar__title text-lg font-bold mb-3 h2-gradient">使用说明</h3>
            <div class="space-y-2 text-sm text-gray-600">
              <p>1. 输入起运港和目的港</p>
              <p>2. 选择船公司（可选）</p>
              <p>3. 点击查询按钮获取船期信息</p>
              <p>4. 结果将显示最近的船期安排</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚容器 -->
  <div id="footer-container"></div>

  <script>
    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', function() {
      // 加载全局组件
      loadComponent('header-container', '/components/header.html');
      loadComponent('footer-container', '/components/footer.html');
      
      // 初始化查询功能
      initScheduleFunction();
      // 生成船东卡片跳转链接（本页专用：跳转到 ?owner=code）
      generateShipownerCardLinksSchedules();
      // 读取 URL 参数预选船公司
      preselectOwnerFromParams();
    });

    // 初始化船期查询功能
  function initScheduleFunction() {
    // 查询按钮事件
    const searchBtn = document.querySelector('.btn-primary');
    if (searchBtn) {
      searchBtn.addEventListener('click', function() {
        const originInput = document.querySelector('input[placeholder="请输入起运港"]');
        const destinationInput = document.querySelector('input[placeholder="请输入目的港"]');
        const select = document.querySelector('.form__select');
          
          if (originInput.value.trim() === '' || destinationInput.value.trim() === '') {
            alert('请输入起运港和目的港');
            return;
          }
          
          // 显示查询结果区域
          const resultsSection = document.querySelector('.results-section');
          if (resultsSection) {
            resultsSection.classList.remove('hidden');
            
            // 更新结果内容
            const resultsContent = resultsSection.querySelector('.results-content');
            if (resultsContent) {
              resultsContent.innerHTML = `
                <div class="text-center py-8">
                  <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mb-4"></div>
                  <p class="text-gray-600">正在查询 ${originInput.value} 到 ${destinationInput.value} 的船期信息...</p>
                </div>
              `;
              
              // 模拟查询过程
              setTimeout(() => {
                showScheduleResults(originInput.value, destinationInput.value, select.options[select.selectedIndex].text);
              }, 2000);
            }
          }
      });
    }
  }

  // 为本页船东卡片生成覆盖链接：跳转到当前页面并附带 ?owner=code
  function generateShipownerCardLinksSchedules(){
    const cards = document.querySelectorAll('.shipowners-section .card--shipowner');
    if (!cards || cards.length === 0) return;
    cards.forEach(card => {
      const titleEl = card.querySelector('.card__title');
      const nameCn = (titleEl?.textContent || '').trim();
      // 从下拉选项尝试匹配 code
      let code = '';
      const select = document.querySelector('.tracking-section .form__select');
      if (select) {
        const options = Array.from(select.options || []);
        const hit = options.find(opt => (opt.textContent || '').includes(nameCn) || (opt.value || '').toLowerCase().includes(nameCn.toLowerCase()));
        code = hit ? (hit.value || '') : '';
      }
      if (!code) {
        const fallbackText = card.querySelector('.card__image div')?.textContent || '';
        code = fallbackText ? fallbackText.toLowerCase() : '';
      }
      if (!code || code === 'all') return;
      const a = document.createElement('a');
      const base = location.pathname.replace(/\/$/, '');
      a.href = `${base}?owner=${encodeURIComponent(code)}`;
      a.target = '_self';
      a.setAttribute('aria-label', `筛选${nameCn}船期`);
      a.style.position = 'absolute';
      a.style.top = '0';
      a.style.left = '0';
      a.style.right = '0';
      a.style.bottom = '0';
      a.style.zIndex = '10';
      if (!card.classList.contains('relative')) card.classList.add('relative');
      const exists = card.querySelector('a[aria-label^="筛选"]');
      if (!exists) card.appendChild(a);
      card.style.cursor = 'pointer';
    });
  }

  // 根据 URL 参数预先选择船公司下拉项
  function preselectOwnerFromParams(){
    try {
      const params = new URLSearchParams(location.search);
      const owner = (params.get('owner') || '').toLowerCase();
      if (!owner) return;
      const select = document.querySelector('.tracking-section .form__select');
      if (!select) return;
      const options = Array.from(select.options || []);
      const hit = options.find(opt => (opt.value || '').toLowerCase() === owner);
      if (hit) select.value = hit.value;
    } catch(e) {}
  }

    // 显示船期查询结果
    function showScheduleResults(origin, destination, shipowner) {
      const resultsContent = document.querySelector('.results-content');
      if (resultsContent) {
        resultsContent.innerHTML = `
          <div class="mb-6">
            <h3 class="text-xl font-bold mb-2">船期查询结果</h3>
            <p class="text-gray-600">航线：${origin} → ${destination}</p>
            ${shipowner !== '所有船东' ? `<p class="text-gray-600">船公司：${shipowner}</p>` : ''}
          </div>
          
          <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200">
              <thead>
                <tr class="bg-gray-100">
                  <th class="py-2 px-4 border-b text-left">船名/航次</th>
                  <th class="py-2 px-4 border-b text-left">起运港</th>
                  <th class="py-2 px-4 border-b text-left">离港时间</th>
                  <th class="py-2 px-4 border-b text-left">目的港</th>
                  <th class="py-2 px-4 border-b text-left">到港时间</th>
                  <th class="py-2 px-4 border-b text-left">航程</th>
                </tr>
              </thead>
              <tbody>
                <tr class="hover:bg-gray-50">
                  <td class="py-2 px-4 border-b">COSCO SHANGHAI / 082E</td>
                  <td class="py-2 px-4 border-b">上海</td>
                  <td class="py-2 px-4 border-b">2025-11-05</td>
                  <td class="py-2 px-4 border-b">洛杉矶</td>
                  <td class="py-2 px-4 border-b">2025-11-20</td>
                  <td class="py-2 px-4 border-b">15天</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="py-2 px-4 border-b">MAERSK SHANGHAI / 102W</td>
                  <td class="py-2 px-4 border-b">上海</td>
                  <td class="py-2 px-4 border-b">2025-11-08</td>
                  <td class="py-2 px-4 border-b">洛杉矶</td>
                  <td class="py-2 px-4 border-b">2025-11-23</td>
                  <td class="py-2 px-4 border-b">15天</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="py-2 px-4 border-b">MSC SHANGHAI / 208S</td>
                  <td class="py-2 px-4 border-b">上海</td>
                  <td class="py-2 px-4 border-b">2025-11-10</td>
                  <td class="py-2 px-4 border-b">洛杉矶</td>
                  <td class="py-2 px-4 border-b">2025-11-25</td>
                  <td class="py-2 px-4 border-b">15天</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="py-2 px-4 border-b">EVERGREEN SHANGHAI / 305E</td>
                  <td class="py-2 px-4 border-b">上海</td>
                  <td class="py-2 px-4 border-b">2025-11-12</td>
                  <td class="py-2 px-4 border-b">洛杉矶</td>
                  <td class="py-2 px-4 border-b">2025-11-27</td>
                  <td class="py-2 px-4 border-b">15天</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="py-2 px-4 border-b">HAPAG-LLOYD SHANGHAI / 412W</td>
                  <td class="py-2 px-4 border-b">上海</td>
                  <td class="py-2 px-4 border-b">2025-11-15</td>
                  <td class="py-2 px-4 border-b">洛杉矶</td>
                  <td class="py-2 px-4 border-b">2025-11-30</td>
                  <td class="py-2 px-4 border-b">15天</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="mt-6 text-sm text-gray-600">
            <p><i class="fas fa-info-circle text-blue-500 mr-1"></i> 以上船期信息仅供参考，实际船期可能因天气、港口拥堵等因素有所调整。</p>
          </div>
        `;
      }
    }
  </script>
</body>
</html>